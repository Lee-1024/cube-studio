
# 增加一个model/view的api

在myapp/models/目录下增加对应的model文件，[参考](https://github.com/tencentmusic/cube-studio/blob/master/myapp/models/model_metadata_metric.py)

在myapp/views/目录下增加对应的view文件，[参考](https://github.com/tencentmusic/cube-studio/blob/master/myapp/views/view_metadata_metric.py)

# 数据库升级调整

增加完文件后，还需要数据库中包含model中的数据库结构
```
myapp db upgrade   # 先将数据库升级到当前所记录的最新的结构
myapp db migrate   # 检查数据库跟代码新增了哪些数据库结构
myapp db upgrade   # 增量将数据库变更结构更新到数据库
```

# 菜单控制

[修改文件myapp/views/home.py文件中menus函数](https://github.com/tencentmusic/cube-studio/wiki/API-%E6%8E%A5%E5%8F%A3)在对应位置上增加一个接口，外联，iframe，或者model/view的api

注意：view里面注册的route_base要和menu函数中api类型的url相对应