"use strict";(self.webpackChunkcbapp_frontend=self.webpackChunkcbapp_frontend||[]).push([[261],{69018:function(e,i,n){n.r(i),n.d(i,{default:function(){return b}});var l=n(1413),a=n(29439),t=n(33738),s=n(88977),c=n(72625),d=n(12513),r=n(10089),o=n(81243),u=n(4519),v=n(31202),m=n(87725),p=n.n(m),x=n(48851),h=n.n(x),f=(n(41541),n(32738)),j=n(2556),g=h()(p());function b(){var e=(0,u.useState)(),i=(0,a.Z)(e,2),n=i[0],m=i[1],p=(0,u.useState)([]),x=(0,a.Z)(p,2),h=x[0],b=x[1],Z=(0,u.useState)([]),N=(0,a.Z)(Z,2),y=N[0],_=N[1],w=(0,u.useState)([]),k=(0,a.Z)(w,2),q=(k[0],k[1],s.Z.useForm()),S=(0,a.Z)(q,1)[0];(0,u.useEffect)((function(){v.Z.get("/app1/info").then((function(e){var i=e.data;console.log(i),m(i);var n=U(i.inference_inputs,{},{});b(n),console.log(n)})).catch((function(e){}))}),[]);var U=function e(i,n,a){var t={text:"input",text_select:"select",text_select_multi:"select",image:"imageUpload",video:"videoUpload",audio:"audioUpload",file:"fileUpload",image_multi:"imageUpload",video_multi:"videoUpload",image_select:"imageSelect",image_select_multi:"imageSelect"};return i.map((function(i,s){var c=t[i.type],d=i.label||n[i.name],r=((i.validators||[]).map((function(e){if("select"===c)return"DataRequired"===e.type?{required:!0,message:"\u8bf7\u9009\u62e9".concat(d)}:void 0;switch(e.type){case"DataRequired":return{required:!0,message:"\u8bf7\u8f93\u5165".concat(d)};case"Regexp":return{pattern:new RegExp("".concat(e.regex)),message:"\u8bf7\u6309\u6b63\u786e\u7684\u89c4\u5219\u8f93\u5165"};case"Length":return{min:e.min||0,max:e.max,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u957f\u5ea6"};default:return}})).filter((function(e){return!!e})),e(i.info||[],n,a));return{label:d,type:c,list:r,name:i.name,disable:i.disable,description:i.describe||void 0,required:i.required,defaultValue:""===i.default?void 0:i.default,multiple:i["ui-type"]&&"select2"===i["ui-type"],options:(i.values||[]).map((function(e){return{label:e.value,value:e.id}})),data:(0,l.Z)({},i)}}))};return(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"p16 bg-w",children:[(0,j.jsx)("div",{children:(0,j.jsx)("img",{className:"w100 pb8",style:{maxHeight:600},src:(null===n||void 0===n?void 0:n.pic)||"",alt:""})}),(0,j.jsxs)("div",{className:"fs20 pb4",onClick:function(){window.open(null===n||void 0===n?void 0:n.doc,"blank")},children:[(0,j.jsxs)("strong",{children:[null===n||void 0===n?void 0:n.name," [",null===n||void 0===n?void 0:n.label,"]"]})," ",(0,j.jsx)("span",{children:(0,j.jsx)(t.Z,{})})]}),(0,j.jsx)("div",{className:"pb4",children:null===n||void 0===n?void 0:n.describe}),(0,j.jsxs)("div",{children:[(0,j.jsx)(c.Z,{color:"volcano",children:null===n||void 0===n?void 0:n.scenes}),(0,j.jsx)(c.Z,{color:"green",children:null===n||void 0===n?void 0:n.status})]})]}),(0,j.jsx)("div",{className:"ta-r pr16 c-hint-b",children:null===n||void 0===n?void 0:n.version}),(0,j.jsx)("div",{className:"ta-c pb8",children:(0,j.jsx)("div",{className:"title-mobi",children:"\u5e94\u7528\u6f14\u793a"})}),(0,j.jsxs)("div",{className:"p16 mb16",children:[(0,j.jsx)(s.Z,{layout:"horizontal",form:S,children:(0,j.jsx)(f.Z,{form:S,primaryKey:"target",config:h})}),(0,j.jsx)("div",{className:"ta-c",children:(0,j.jsx)(d.Z,{type:"primary",block:!0,onClick:function(){S.validateFields().then((function(e){var i,l;console.log(e),(i=(null===n||void 0===n?void 0:n.inference_url)||"",l=e,v.Z.post(i,l)).then((function(e){console.log(e),_(e.data.result)})).catch((function(e){r.ZP.error("\u5e94\u7528\u8fd0\u884c\u51fa\u95ee\u9898\u4e86")}))})).catch((function(e){r.ZP.warn("\u8bf7\u586b\u5199\u5b8c\u6574\u53c2\u6570")}))},children:"\u8fd0\u884c\u5e94\u7528"})})]}),(0,j.jsxs)("div",{className:"mb16",children:[(0,j.jsx)("div",{className:"ta-c pb8",children:(0,j.jsx)("div",{className:"title-mobi",children:"\u7ed3\u679c\u8f93\u51fa"})}),y.length?(0,j.jsx)("div",{className:"p16",children:y.map((function(e,i){return(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{children:e.text}),(0,j.jsx)("div",{children:(0,j.jsx)("img",{src:e.image,alt:""})}),(0,j.jsx)("div",{children:e.video})]},i)}))}):(0,j.jsx)(o.ZP,{title:"\u6682\u65e0\u6570\u636e"})]}),(0,j.jsx)("div",{className:"ta-c pb8",children:(0,j.jsx)("div",{className:"title-mobi",children:"\u5e94\u7528\u63a8\u8350"})}),(0,j.jsx)("div",{className:"p16 mb64",children:(0,j.jsx)(g,{play:!0,cancelOnInteraction:!1,interval:5e3,children:((null===n||void 0===n?void 0:n.rec_apps)||[]).map((function(e,i){return(0,j.jsx)("div",{children:(0,j.jsx)("img",{className:"w100",src:e.pic,alt:""})},"rec".concat(i))}))})})]})}}}]);
//# sourceMappingURL=261.37ee5c20.chunk.js.map